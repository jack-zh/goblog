{"Id":140,"Title":"Learn lua by example - 1 开始","Slug":"2014-12-03-1","Text":"# 第1章 开始\n\n### 1.1 hello world\n\n``` lua\nprint(\"hello world\")\n```\n\n### 1.2 阶乘\n\n```lua\nfunction fact(n)\n    if n == 0 then\n        return 1\n    else\n        return n * fact(n-1)\n    end\nend\n\nprint(\"enter a number:\")\na = io.read(**number)\nprint(fact(a))\n```\n\n### 1.3 程序块\n\n```lua\n-- 方式1\na = 1\nb = a * 2\n\n-- 方式2\na = 1;\nb = a * 2;\n\n-- 方式3\na = 1; b = a * 2\n\n-- 方式4\na = 1 b = a * 2 -- 丑陋 但却合法\n```\n\n### 1.4 lua交互命令行\n#### 1.4.1 基本交互\n```sh\n-\u003e /d $ lua\nLua 5.2.0  Copyright (C) 1994-2011 Lua.org, PUC-Rio\n\u003e print(\"hello\")\nhello\n\u003e\n```\n#### 1.4.2 文件交互\n```sh\n-\u003e /d/lua $ ls\nhello.lua\n-\u003e /d/lua $ cat hello.lua\na = 2\nb = a * 2\nprint(a)\n-\u003e /d/lua $ lua -i hello.lua\nLua 5.2.0  Copyright (C) 1994-2011 Lua.org, PUC-Rio\n2\n\u003e print(b)\n4\n\u003e\n```\n\n### 1.5 lua保留字\n\n|保留字|保留字|保留字|保留字|保留字|保留字|保留字|\n|:-|:--|:--|:--|:--|:--|:--|:--|\n|and|break|do|else|elseif|end|for|\n|function|false|if|in|local|nil|not|\n|or|repeat|return|then|true|until|while|\n\n### 1.6 基本注释\n```lua\n-- print(10) 单行注释\n\n-- 多行注释\n--[[\nprint(10)\n...\n--]] \n```\n\n### 1.7 全局变量\n\n``` lua\n-- 声明全局变量\nb = 10\n\n-- 消除全局变量\nb = nil\n```\n\n### 1.8 解释器程序\n\n##### 1.8.1 脚本声明\n```lua\n#!/usr/bin/lua\n\nor\n\n#!/usr/bin/env lua\n```\n\n#### 1.8.2 lua启动选项说明\n\n```sh\nlua [选项参数] [脚本[参数]]\n```\n\n`-e`直接输入代码\n\n```sh\n-\u003e /d/lua $ lua -e \"print(math.sin(12))\"\n-0.53657291800043\n-\u003e /d/lua $\n```\n\n`-l`加载库文件, `-i`执行完进入交互模式(a为库文件)\n\n```sh\nlua -i -l a -e \"x = 10\"\n-- 先加载a 再执行`x = 10`,然后进入交互\n```\n\n`_PROMPE`更改提示符\n\n```sh\n-\u003e /d/lua $ lua -i -e \"_PROMPT='jack-lua\u003e\u003e'\"\nLua 5.2.0  Copyright (C) 1994-2011 Lua.org, PUC-Rio\njack-lua\u003e\u003eprint(\"hello\")\nhello\njack-lua\u003e\u003e\n```\n\n交互模式打印举例\n```sh\n-\u003e /d/lua $ lua\nLua 5.2.0  Copyright (C) 1994-2011 Lua.org, PUC-Rio\n\u003e math.sin(20)\n\u003e =math.sin(20)\n0.91294525072763\n\u003e a = 10\n\u003e =a\n10\n\u003e\n```\n\n","Tags":["lua"],"CreateTime":1417616560,"EditTime":1417616630,"UpdateTime":1417616560,"IsComment":true,"IsLinked":false,"AuthorId":10,"Template":"blog.html","Type":"article","Status":"publish","Format":"markdown","Comments":[],"Hits":43}