{"Id":87,"Title":"rust入门教程（0.12）-8-语法小结 猜数字游戏与标准输入","Slug":"2014-11-10-3","Text":"# 语法小结-标准输入与猜数游戏\n\n### 标准输入\n\n开始的例子\n\n    fn main() {\n        println!(\"Type something!\");\n    \n        let input = std::io::stdin().read_line().ok().expect(\"Failed to read line\");\n    \n        println!(\"{}\", input);\n    }\n\nstd::io::stdin().read_line().ok().expect(\"Failed to read line\");太长了 引入模块\n\n    use std::io;\n    \n    fn main() {\n        println!(\"Type something!\");\n    \n        let input = io::stdin().read_line().ok().expect(\"Failed to read line\");\n    \n        println!(\"{}\", input);\n    }\n\nformat code\n\n    use std::io;\n    \n    fn main() {\n        println!(\"Type something!\");\n    \n        let input = io::stdin()\n                      .read_line()\n                      .ok()\n                      .expect(\"Failed to read line\");\n    \n        println!(\"{}\", input);\n    }\n\n### 猜数游戏代码\n\n    use std::io;\n    use std::rand;\n    \n    enum Ordering {\n        Less,\n        Equal,\n        Greater,\n    }\n    \n    fn main() {\n        println!(\"Guess the number!\");\n    \n        let secret_number = (rand::random::\u003cuint\u003e() % 100u) + 1u;\n    \n        loop {\n    \n            println!(\"Please input your guess.\");\n    \n            let input = io::stdin().read_line()\n                                   .ok()\n                                   .expect(\"Failed to read line\");\n            let input_num: Option\u003cuint\u003e = from_str(input.as_slice().trim());\n    \n            let num = match input_num {\n                Some(num) =\u003e num,\n                None      =\u003e {\n                    println!(\"Please input a number!\");\n                    continue;\n                }\n            };\n    \n            println!(\"You guessed: {}\", num);\n    \n            match cmp(num, secret_number) {\n                Less    =\u003e println!(\"Too small!\"),\n                Greater =\u003e println!(\"Too big!\"),\n                Equal   =\u003e {\n                    println!(\"You win!\");\n                    return;\n                },\n            }\n        }\n    }\n    \n    fn cmp(a: uint, b: uint) -\u003e Ordering {\n        if a \u003c b { Less }\n        else if a \u003e b { Greater }\n        else { Equal }\n    }","Tags":["rust"],"CreateTime":1415612750,"EditTime":1415612750,"UpdateTime":1415612750,"IsComment":true,"IsLinked":false,"AuthorId":10,"Template":"blog.html","Type":"article","Status":"publish","Format":"markdown","Comments":[],"Hits":27}