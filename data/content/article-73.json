{"Id":73,"Title":"rust入门教程（0.12）-1-安装与基本概念","Slug":"2014-11-06-1","Text":"### 1 安装(linux-ubuntu-14.04)\n\n##### 安装rustc 与cargo\n\n    $ curl -s https://static.rust-lang.org/rustup.sh | sudo sh\n\n##### 卸载\n\n    $ curl -s https://static.rust-lang.org/rustup.sh | sudo sh -s -- --uninstall\n\n#### cargo 使用：\n##### 新建项目\n    $ cargo new hello_world --bin\n    $ cd hello_world\n\n##### 项目结构\n    $ tree .\n    .\n    ├── Cargo.toml\n    └── src\n        └── main.rs\n    $ cat Cargo.toml:\n    [package]\n    \n    name = \"hello_world\"\n    version = \"0.0.1\"\n    authors = [\"Your Name \u003cyou@example.com\u003e\"]\n\n    $ cat src/main.rs:\n\n    fn main() {\n        println!(\"Hello, world!\")\n    }\n\n##### 运行项目\n    $ cargo build\n       Compiling hello_world v0.0.1 (file:///path/to/project/hello_world)\n\n    $ ./target/hello_world\n    Hello, world!\n    $ cargo run\n         Fresh hello_world v0.0.1 (file:///path/to/project/hello_world)\n       Running `target/hello_world`\n    Hello, world!\n\n### 2 Hello World\n##### 新建项目\n    $ mkdir ~/projects\n    $ cd ~/projects\n    $ mkdir hello_world\n    $ cd hello_world\n##### 编辑代码\n    $ editor main.rs\n    fn main() {\n        println!(\"Hello, world!\");\n    }\n\n##### 编译运行\n    $ rustc main.rs\n    $ ls\n    main main.rs\n    $ ./main # or main.exe on Windows\n    Hello, world!\n\n### 3 变量\n##### 声明基本\n    let x = 5i; // i表示整形\n    let (x, y) = (1i, 2i); // 多个变量一起赋值\n    let x: int = 5; // 类型在前面声明\n\n##### 更改变量\n    let x = 5i;\n    x = 10i;\n    // 会报错如下\n    error: re-assignment of immutable variable `x`\n         x = 10i;\n         ^~~~~~~\n    // let 声明的变量不允许改变\n    \n    // 可改变变量的声明方法\n    let mut x = 5i;\n    x = 10i;\n    \n    // 不允许如下声明，即不声明类型不赋值(推到类型)的情况会报错\n    let x; //会报错如下\n    src/main.rs:2:9: 2:10 error: cannot determine a type for this local variable: unconstrained type\n    src/main.rs:2     let x;\n                          ^\n    \n    // 允许这样：\n    let x: int;\n    \n    // 变量声明而不用的warning：\n    fn main() {\n        let x: int;\n    \n        println!(\"Hello world!\");\n    }\n    $ cargo build\n      Compiling hello_world v0.0.1 (file:///home/you/projects/hello_world)\n    src/main.rs:2:9: 2:10 warning: unused variable: `x`, #[warn(unused_variable)] on by default\n    src/main.rs:2     let x: int;\n                             ^\n    \n    // 不赋值的使用报错例子：\n    fn main() {\n        let x: int;\n    \n        println!(\"The value of x is: {}\", x);\n    }\n    \n    $ cargo build\n       Compiling hello_world v0.0.1 (file:///home/you/projects/hello_world)\n    src/main.rs:4:39: 4:40 error: use of possibly uninitialized variable: `x`\n    src/main.rs:4     println!(\"The value of x is: {}\", x);\n                                                        ^\n    note: in expansion of format_args!\n    \u003cstd macros\u003e:2:23: 2:77 note: expansion site\n    \u003cstd macros\u003e:1:1: 3:2 note: in expansion of println!\n    src/main.rs:4:5: 4:42 note: expansion site\n    error: aborting due to previous error\n    Could not compile `hello_world`.\n\n### 注释：\n注释分为行注释和文档注释\n##### 行注释：\n    // Line comments are anything after '//' and extend to the end of the line.\n\n    let x = 5i; // this is also a line comment.\n\n    // If you have a long explanation for something, you can put line comments next\n    // to each other. Put a space between the // and your comment so that it's\n    // more readable.\n##### 文档注释：\n    /// `hello` is a function that prints a greeting that is personalized based on\n    /// the name given.\n    ///\n    /// # Arguments\n    ///\n    /// * `name` - The name of the person you'd like to greet.\n    ///\n    /// # Example\n    ///\n    /// ```rust\n    /// let name = \"Steve\";\n    /// hello(name); // prints \"Hello, Steve!\"\n    /// ```\n    fn hello(name: \u0026str) {\n        println!(\"Hello, {}!\", name);\n    }\n \n ###### 区别：\n 文档注释可以利用`rustdoc`命令生成文档","Tags":["rust"],"CreateTime":1415263641,"EditTime":1415284735,"UpdateTime":1415263641,"IsComment":true,"IsLinked":false,"AuthorId":10,"Template":"blog.html","Type":"article","Status":"publish","Format":"markdown","Comments":[],"Hits":194}